addons:
  sonarcloud:
    organization: "expenses-api"
    token:
      secure: $SONAR_TOKEN # encrypted value of your token
language: csharp
mono: none
dotnet: 3.1.100
install:
- dotnet tool install --global dotnet-sonarscanner
- dotnet restore
script:
- dotnet sonarscanner begin /o:"expenses-api" /k:"tiagogauziski_expenses-api" /d:sonar.host.url="https://sonarcloud.io" /d:sonar.verbose=true /d:sonar.login=${SONAR_TOKEN} || true
- dotnet build
- dotnet test
- dotnet sonarscanner end /d:sonar.login="$SONAR_TOKEN" || true
#- dotnet test Expenses.UnitTests/Expenses.UnitTests.csproj
#- dotnet test Expenses.IntegrationTests/Expenses.IntegrationTests.csproj